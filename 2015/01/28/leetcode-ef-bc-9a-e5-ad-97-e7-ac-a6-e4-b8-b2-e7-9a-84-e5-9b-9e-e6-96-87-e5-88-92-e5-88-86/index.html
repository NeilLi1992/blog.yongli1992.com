<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>LeetCode：字符串的回文划分 | TechUp</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Edit                                            
归档 python 原创 leetCodeOJ 算法 动态规划 eat.wordpress.post 

记录一道在LeetCode上做到的个人感觉很精彩的题目：字符串的回文划分问题。 
原题地址：palindrome partitioning
题目翻译如下：

给定字符串s，对s进行分割，使得到的每">
<meta property="og:type" content="article">
<meta property="og:title" content="LeetCode：字符串的回文划分">
<meta property="og:url" content="http://yoursite.com/2015/01/28/leetcode-ef-bc-9a-e5-ad-97-e7-ac-a6-e4-b8-b2-e7-9a-84-e5-9b-9e-e6-96-87-e5-88-92-e5-88-86/index.html">
<meta property="og:site_name" content="TechUp">
<meta property="og:description" content="Edit                                            
归档 python 原创 leetCodeOJ 算法 动态规划 eat.wordpress.post 

记录一道在LeetCode上做到的个人感觉很精彩的题目：字符串的回文划分问题。 
原题地址：palindrome partitioning
题目翻译如下：

给定字符串s，对s进行分割，使得到的每">
<meta property="og:updated_time" content="2015-08-07T21:41:36.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeetCode：字符串的回文划分">
<meta name="twitter:description" content="Edit                                            
归档 python 原创 leetCodeOJ 算法 动态规划 eat.wordpress.post 

记录一道在LeetCode上做到的个人感觉很精彩的题目：字符串的回文划分问题。 
原题地址：palindrome partitioning
题目翻译如下：

给定字符串s，对s进行分割，使得到的每">
  
    <link rel="alternative" href="/atom.xml" title="TechUp" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">TechUp</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Yong Li&#39;s small tech world.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-leetcode-ef-bc-9a-e5-ad-97-e7-ac-a6-e4-b8-b2-e7-9a-84-e5-9b-9e-e6-96-87-e5-88-92-e5-88-86" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/28/leetcode-ef-bc-9a-e5-ad-97-e7-ac-a6-e4-b8-b2-e7-9a-84-e5-9b-9e-e6-96-87-e5-88-92-e5-88-86/" class="article-date">
  <time datetime="2015-01-28T00:33:41.000Z" itemprop="datePublished">2015-01-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/未分类/">未分类</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      LeetCode：字符串的回文划分
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><del style="position:relative;display:block"><a href="http://maxiang.info/#/?provider=evernote_int&amp;guid=093c1ebe-906e-4597-a5b2-90f429a46a7b" target="_blank" rel="external">Edit</a></del><div style="line-height: 1.5; color: #2c3f51; font-family: Helvetica Neue, Arial, Hiragino Sans GB, STHeiti, Microsoft YaHei, WenQuanYi Micro Hei, SimSun, Song, sans-serif;"><br>                        <div></div><br>                    <div></div></div></p>
<p><code>归档</code> <code>python</code> <code>原创</code> <code>leetCodeOJ</code> <code>算法</code> <code>动态规划</code> <code>eat.wordpress.post</code> </p>
<p><div></div></p>
<p>记录一道在LeetCode上做到的个人感觉很精彩的题目：字符串的回文划分问题。 </p>
<p>原题地址：<a href="https://oj.leetcode.com/problems/palindrome-partitioning/" target="_blank" rel="external">palindrome partitioning</a></p>
<p>题目翻译如下：</p>
<blockquote>
<p>给定字符串s，对s进行分割，使得到的每一个子字符串都是回文。返回s所有可能的分割。例如：给定字符串s=”aab”，返回结果如下：</p>
<pre><code>[["aa","b"], ["a", "a", "b"]]
`<span class="tag">&lt;/<span class="title">pre</span>&gt;</span>

  <span class="comment">&lt;!--more--&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span><span class="tag">&lt;<span class="title">div</span> &gt;</span>
</code></pre></blockquote>
<pre><code>### 解法一：深度优先搜索

第一种方法是采用深度优先法来进行递归搜索。定义一个名为**partition(s)**的函数用于递归。其基本解的形式是s的长度仅为1的时候。此时认为s是回文字符串，并且返回对s的划分结果，即直接返回**[[s]]**。

当s的长度大于1的时候，我们用一个名为**partition_list**的列表变量来存储所有对s的回文划分的结果。在Python中判断一个字符串s是否是回文可以有非常简便的方法，用下面的一行语句就可以实现，当然效率上可能会差一点:

<span class="tag">&lt;<span class="title">pre</span> <span class="attribute">style</span>=<span class="value">"font-family: Source Code Pro,monospace; font-size: .9em; white-space: pre-wrap; display: block; padding: 10px; margin: 0 0 1.1em; line-height: 1.45; word-break: break-word; word-wrap: break-word; color: #333; background-color: rgba(102,128,153,0.05); border: 0; border-radius: 5px; text-align: start;"</span>&gt;</span>`s == s[::-1]
`<span class="tag">&lt;/<span class="title">pre</span>&gt;</span>

若s自身是一个回文，则将s添加到**partition_list**中。然后对1到len(s)-1的每一个位置，都尝试将字符串分为前后两个字字符串s1和s2。若s1不是回文划分，则忽略。若s1是一个回文划分，则对s2部分递归调用**partition(s2)**，获得s2的所有回文划分结果。此处对s2的划分至少会有一个结果，即每个单个字符被分割的情形。最后对于s2的回文划分的每种可能，我们都将s1放在最前面，即可得到对字符串s的全部划分结果。代码如下所示：

<span class="tag">&lt;/<span class="title">div</span>&gt;</span><span class="tag">&lt;<span class="title">div</span> &gt;</span>

<span class="tag">&lt;<span class="title">pre</span>  <span class="attribute">style</span>=<span class="value">"font-family: Source Code Pro,monospace; font-size: .9em; white-space: pre-wrap; display: block; padding: 2px; margin: 0 0 1.1em; line-height: 1.45; word-break: break-word; word-wrap: break-word; color: #333; background-color: rgba(102,128,153,0.05); border: 0; border-radius: 5px; text-align: start; background: #f6f6f6;"</span>&gt;</span>`<span class="tag">&lt;<span class="title">span</span> &gt;</span><span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #66d9ef;"</span>&gt;</span>class<span class="tag">&lt;/<span class="title">span</span>&gt;</span> <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #a6e22e; font-style: italic;"</span>&gt;</span>Solution<span class="tag">&lt;/<span class="title">span</span>&gt;</span>:<span class="tag">&lt;/<span class="title">span</span>&gt;</span>
    <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #75715e;"</span>&gt;</span># @param s, a string<span class="tag">&lt;/<span class="title">span</span>&gt;</span>
    <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #75715e;"</span>&gt;</span># @return a list of lists of string<span class="tag">&lt;/<span class="title">span</span>&gt;</span>
    <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span><span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #66d9ef;"</span>&gt;</span>def<span class="tag">&lt;/<span class="title">span</span>&gt;</span> <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #a6e22e;"</span>&gt;</span>partition<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f8f8f2;"</span>&gt;</span>(self, s)<span class="tag">&lt;/<span class="title">span</span>&gt;</span>:<span class="tag">&lt;/<span class="title">span</span>&gt;</span>
        <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>if<span class="tag">&lt;/<span class="title">span</span>&gt;</span> len(s) == <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #ae81ff;"</span>&gt;</span>1<span class="tag">&lt;/<span class="title">span</span>&gt;</span>:
            <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #75715e;"</span>&gt;</span># This is a single-character palindrome string<span class="tag">&lt;/<span class="title">span</span>&gt;</span>
            <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>return<span class="tag">&lt;/<span class="title">span</span>&gt;</span> [[s]]
        <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>else<span class="tag">&lt;/<span class="title">span</span>&gt;</span>:
            partition_list = []

            <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>if<span class="tag">&lt;/<span class="title">span</span>&gt;</span> s == s[::-<span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #ae81ff;"</span>&gt;</span>1<span class="tag">&lt;/<span class="title">span</span>&gt;</span>]:
                partition_list.append([s])

            <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>for<span class="tag">&lt;/<span class="title">span</span>&gt;</span> i <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>in<span class="tag">&lt;/<span class="title">span</span>&gt;</span> range(<span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #ae81ff;"</span>&gt;</span>1<span class="tag">&lt;/<span class="title">span</span>&gt;</span>,len(s)):
                s1 = s[<span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #ae81ff;"</span>&gt;</span>0<span class="tag">&lt;/<span class="title">span</span>&gt;</span>:i]
                s2 = s[i:len(s)]

                <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>if<span class="tag">&lt;/<span class="title">span</span>&gt;</span> s1 != s1[::-<span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #ae81ff;"</span>&gt;</span>1<span class="tag">&lt;/<span class="title">span</span>&gt;</span>]: <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #75715e;"</span>&gt;</span># s1 is not palindrome, this partition failed<span class="tag">&lt;/<span class="title">span</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>continue<span class="tag">&lt;/<span class="title">span</span>&gt;</span>
                <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>else<span class="tag">&lt;/<span class="title">span</span>&gt;</span>: <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #75715e;"</span>&gt;</span># The first substring is a palindrom<span class="tag">&lt;/<span class="title">span</span>&gt;</span>
                    substr_par_list = self.partition(s2)
                    <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>for<span class="tag">&lt;/<span class="title">span</span>&gt;</span> substr_par <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>in<span class="tag">&lt;/<span class="title">span</span>&gt;</span> substr_par_list:
                        substr_par.insert(<span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #ae81ff;"</span>&gt;</span>0<span class="tag">&lt;/<span class="title">span</span>&gt;</span>, s1)
                        partition_list.append(substr_par)
            <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>return<span class="tag">&lt;/<span class="title">span</span>&gt;</span> partition_list`<span class="tag">&lt;/<span class="title">pre</span>&gt;</span>

<span class="tag">&lt;/<span class="title">div</span>&gt;</span><span class="tag">&lt;<span class="title">div</span> &gt;</span>

### 解法二：动态规划

解法一的效率较差。动态规划的方法在这里可以更加高效。

试想我们可以构建一个NxN的二维矩阵，N是字符串s的长度，我们先用两个循环变量i，j遍历字符串s，对于任何一个是回文的子字符串s[i : j+1]，都将矩阵的[i, j]位置标记为1，最后我们只要找到所有的从头到尾的标记路径即可找出所有的回文划分。

对于题目中的例子s=”aab”来说，构建出的矩阵形式如下：

&gt; 1 1 0 
</code></pre><blockquote>
<pre><code><span class="number">0</span> <span class="number">1</span> <span class="number">0</span> 

<span class="number">0</span> <span class="number">0</span> <span class="number">1</span>
</code></pre></blockquote>
<pre><code>在下面的代码示例中，二维列表实际上表示的是矩阵的稀疏形式，即对于列表的第i个子列表，里面存储的是矩阵i上的有标记的列的索引。

最终的路径回溯实际上还是一个深度搜索，但是这里的工作量就小的多了。最后的实际结果也比方法一快了很多。示例代码如下：

<span class="tag">&lt;/<span class="title">div</span>&gt;</span><span class="tag">&lt;<span class="title">div</span> &gt;</span>

<span class="tag">&lt;<span class="title">pre</span>  <span class="attribute">style</span>=<span class="value">"font-family: Source Code Pro,monospace; font-size: .9em; white-space: pre-wrap; display: block; padding: 2px; margin: 0 0 1.1em; line-height: 1.45; word-break: break-word; word-wrap: break-word; color: #333; background-color: rgba(102,128,153,0.05); border: 0; border-radius: 5px; text-align: start; background: #f6f6f6;"</span>&gt;</span>`<span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #75715e;"</span>&gt;</span># Second solution uses DP+dfs<span class="tag">&lt;/<span class="title">span</span>&gt;</span>
<span class="tag">&lt;<span class="title">span</span> &gt;</span><span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #66d9ef;"</span>&gt;</span>class<span class="tag">&lt;/<span class="title">span</span>&gt;</span> <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #a6e22e; font-style: italic;"</span>&gt;</span>Solution2<span class="tag">&lt;/<span class="title">span</span>&gt;</span>:<span class="tag">&lt;/<span class="title">span</span>&gt;</span>
    <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #75715e;"</span>&gt;</span># @param s, a string<span class="tag">&lt;/<span class="title">span</span>&gt;</span>
    <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #75715e;"</span>&gt;</span># @return a list of lists of string<span class="tag">&lt;/<span class="title">span</span>&gt;</span>
    <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span><span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #66d9ef;"</span>&gt;</span>def<span class="tag">&lt;/<span class="title">span</span>&gt;</span> <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #a6e22e;"</span>&gt;</span>partition<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f8f8f2;"</span>&gt;</span>(self, s)<span class="tag">&lt;/<span class="title">span</span>&gt;</span>:<span class="tag">&lt;/<span class="title">span</span>&gt;</span>
        index_list = [[] <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>for<span class="tag">&lt;/<span class="title">span</span>&gt;</span> i <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>in<span class="tag">&lt;/<span class="title">span</span>&gt;</span> range(len(s))]
        <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>for<span class="tag">&lt;/<span class="title">span</span>&gt;</span> i <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>in<span class="tag">&lt;/<span class="title">span</span>&gt;</span> range(len(s)):
            <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>for<span class="tag">&lt;/<span class="title">span</span>&gt;</span> j <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>in<span class="tag">&lt;/<span class="title">span</span>&gt;</span> range(i, len(s)):
                <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>if<span class="tag">&lt;/<span class="title">span</span>&gt;</span> s[i:j+<span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #ae81ff;"</span>&gt;</span>1<span class="tag">&lt;/<span class="title">span</span>&gt;</span>] == s[i:j+<span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #ae81ff;"</span>&gt;</span>1<span class="tag">&lt;/<span class="title">span</span>&gt;</span>][::-<span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #ae81ff;"</span>&gt;</span>1<span class="tag">&lt;/<span class="title">span</span>&gt;</span>]:
                    index_list[i].append(j)

        partition_list = []
        self.search_path(<span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #ae81ff;"</span>&gt;</span>0<span class="tag">&lt;/<span class="title">span</span>&gt;</span>, [], index_list, s, partition_list)
        <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>return<span class="tag">&lt;/<span class="title">span</span>&gt;</span> partition_list

    <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span><span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #66d9ef;"</span>&gt;</span>def<span class="tag">&lt;/<span class="title">span</span>&gt;</span> <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #a6e22e;"</span>&gt;</span>search_path<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f8f8f2;"</span>&gt;</span>(self, start, current_partition, index_list, s, partition_list)<span class="tag">&lt;/<span class="title">span</span>&gt;</span>:<span class="tag">&lt;/<span class="title">span</span>&gt;</span>
        <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>for<span class="tag">&lt;/<span class="title">span</span>&gt;</span> end <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>in<span class="tag">&lt;/<span class="title">span</span>&gt;</span> index_list[start]:
            new_partition = current_partition[:]
            new_partition.append(s[start:end+<span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #ae81ff;"</span>&gt;</span>1<span class="tag">&lt;/<span class="title">span</span>&gt;</span>])

            <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>if<span class="tag">&lt;/<span class="title">span</span>&gt;</span> end + <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #ae81ff;"</span>&gt;</span>1<span class="tag">&lt;/<span class="title">span</span>&gt;</span> == len(s):
                partition_list.append(new_partition)
            <span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #f92672;"</span>&gt;</span>else<span class="tag">&lt;/<span class="title">span</span>&gt;</span>:
                self.search_path(end+<span class="tag">&lt;<span class="title">span</span>  <span class="attribute">style</span>=<span class="value">"color: #ae81ff;"</span>&gt;</span>1<span class="tag">&lt;/<span class="title">span</span>&gt;</span>, new_partition, index_list, s, partition_list)
</code></pre><p><div></div><center style="display:none">@%28%u5F52%u6863%29%5Bpython%7C%u539F%u521B%7CleetCodeOJ%7C%u7B97%u6CD5%7C%u52A8%u6001%u89C4%u5212%7Ceat.wordpress.post%5D%0A%23LeetCode%uFF1A%u5B57%u7B26%u4E32%u7684%u56DE%u6587%u5212%u5206%0A%u8BB0%u5F55%u4E00%u9053%u5728LeetCode%u4E0A%u505A%u5230%u7684%u4E2A%u4EBA%u611F%u89C9%u5F88%u7CBE%u5F69%u7684%u9898%u76EE%uFF1A%u5B57%u7B26%u4E32%u7684%u56DE%u6587%u5212%u5206%u95EE%u9898%u3002%0A%u539F%u9898%u5730%u5740%uFF1A%5Bpalindrome%20partitioning%5D%28https%3A//oj.leetcode.com/problems/palindrome-partitioning/%29%0A%0A%u9898%u76EE%u7FFB%u8BD1%u5982%u4E0B%uFF1A%0A%3E%u7ED9%u5B9A%u5B57%u7B26%u4E32s%uFF0C%u5BF9s%u8FDB%u884C%u5206%u5272%uFF0C%u4F7F%u5F97%u5230%u7684%u6BCF%u4E00%u4E2A%u5B50%u5B57%u7B26%u4E32%u90FD%u662F%u56DE%u6587%u3002%u8FD4%u56DEs%u6240%u6709%u53EF%u80FD%u7684%u5206%u5272%u3002%u4F8B%u5982%uFF1A%u7ED9%u5B9A%u5B57%u7B26%u4E32s%3D%22aab%22%uFF0C%u8FD4%u56DE%u7ED3%u679C%u5982%u4E0B%uFF1A%0A%0A%3E%20%20%20%20%20%5B%5B%22aa%22%2C%22b%22%5D%2C%20%5B%22a%22%2C%20%22a%22%2C%20%22b%22%5D%5D%0A%3C%21–more–%3E%0A%23%23%23%20%u89E3%u6CD5%u4E00%uFF1A%u6DF1%u5EA6%u4F18%u5148%u641C%u7D22%0A%u7B2C%u4E00%u79CD%u65B9%u6CD5%u662F%u91C7%u7528%u6DF1%u5EA6%u4F18%u5148%u6CD5%u6765%u8FDB%u884C%u9012%u5F52%u641C%u7D22%u3002%u5B9A%u4E49%u4E00%u4E2A%u540D%u4E3A<strong>partition%28s%29</strong>%u7684%u51FD%u6570%u7528%u4E8E%u9012%u5F52%u3002%u5176%u57FA%u672C%u89E3%u7684%u5F62%u5F0F%u662Fs%u7684%u957F%u5EA6%u4EC5%u4E3A1%u7684%u65F6%u5019%u3002%u6B64%u65F6%u8BA4%u4E3As%u662F%u56DE%u6587%u5B57%u7B26%u4E32%uFF0C%u5E76%u4E14%u8FD4%u56DE%u5BF9s%u7684%u5212%u5206%u7ED3%u679C%uFF0C%u5373%u76F4%u63A5%u8FD4%u56DE<strong>%5B%5Bs%5D%5D</strong>%u3002%0A%0A%u5F53s%u7684%u957F%u5EA6%u5927%u4E8E1%u7684%u65F6%u5019%uFF0C%u6211%u4EEC%u7528%u4E00%u4E2A%u540D%u4E3A<strong>partition_list</strong>%u7684%u5217%u8868%u53D8%u91CF%u6765%u5B58%u50A8%u6240%u6709%u5BF9s%u7684%u56DE%u6587%u5212%u5206%u7684%u7ED3%u679C%u3002%u5728Python%u4E2D%u5224%u65AD%u4E00%u4E2A%u5B57%u7B26%u4E32s%u662F%u5426%u662F%u56DE%u6587%u53EF%u4EE5%u6709%u975E%u5E38%u7B80%u4FBF%u7684%u65B9%u6CD5%uFF0C%u7528%u4E0B%u9762%u7684%u4E00%u884C%u8BED%u53E5%u5C31%u53EF%u4EE5%u5B9E%u73B0%uFF0C%u5F53%u7136%u6548%u7387%u4E0A%u53EF%u80FD%u4F1A%u5DEE%u4E00%u70B9%3A%0A%0A%20%20%20%20s%20%3D%3D%20s%5B%3A%3A-1%5D%0A%u82E5s%u81EA%u8EAB%u662F%u4E00%u4E2A%u56DE%u6587%uFF0C%u5219%u5C06s%u6DFB%u52A0%u5230<strong>partition_list</strong>%u4E2D%u3002%u7136%u540E%u5BF91%u5230len%28s%29-1%u7684%u6BCF%u4E00%u4E2A%u4F4D%u7F6E%uFF0C%u90FD%u5C1D%u8BD5%u5C06%u5B57%u7B26%u4E32%u5206%u4E3A%u524D%u540E%u4E24%u4E2A%u5B57%u5B57%u7B26%u4E32s1%u548Cs2%u3002%u82E5s1%u4E0D%u662F%u56DE%u6587%u5212%u5206%uFF0C%u5219%u5FFD%u7565%u3002%u82E5s1%u662F%u4E00%u4E2A%u56DE%u6587%u5212%u5206%uFF0C%u5219%u5BF9s2%u90E8%u5206%u9012%u5F52%u8C03%u7528<strong>partition%28s2%29</strong>%uFF0C%u83B7%u5F97s2%u7684%u6240%u6709%u56DE%u6587%u5212%u5206%u7ED3%u679C%u3002%u6B64%u5904%u5BF9s2%u7684%u5212%u5206%u81F3%u5C11%u4F1A%u6709%u4E00%u4E2A%u7ED3%u679C%uFF0C%u5373%u6BCF%u4E2A%u5355%u4E2A%u5B57%u7B26%u88AB%u5206%u5272%u7684%u60C5%u5F62%u3002%u6700%u540E%u5BF9%u4E8Es2%u7684%u56DE%u6587%u5212%u5206%u7684%u6BCF%u79CD%u53EF%u80FD%uFF0C%u6211%u4EEC%u90FD%u5C06s1%u653E%u5728%u6700%u524D%u9762%uFF0C%u5373%u53EF%u5F97%u5230%u5BF9%u5B57%u7B26%u4E32s%u7684%u5168%u90E8%u5212%u5206%u7ED3%u679C%u3002%u4EE3%u7801%u5982%u4E0B%u6240%u793A%uFF1A%0A%0A%60%60%60python%0Aclass%20Solution%3A%0A%20%20%20%20%23%20@param%20s%2C%20a%20string%0A%20%20%20%20%23%20@return%20a%20list%20of%20lists%20of%20string%0A%20%20%20%20def%20partition%28self%2C%20s%29%3A%0A%20%20%20%20%20%20%20%20if%20len%28s%29%20%3D%3D%201%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20This%20is%20a%20single-character%20palindrome%20string%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%5B%5Bs%5D%5D%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20partition_list%20%3D%20%5B%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20s%20%3D%3D%20s%5B%3A%3A-1%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20partition_list.append%28%5Bs%5D%29%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20i%20in%20range%281%2Clen%28s%29%29%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20s1%20%3D%20s%5B0%3Ai%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20s2%20%3D%20s%5Bi%3Alen%28s%29%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20s1%20%21%3D%20s1%5B%3A%3A-1%5D%3A%20%23%20s1%20is%20not%20palindrome%2C%20this%20partition%20failed%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%3A%20%23%20The%20first%20substring%20is%20a%20palindrom%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20substr_par_list%20%3D%20self.partition%28s2%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20substr_par%20in%20substr_par_list%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20substr_par.insert%280%2C%20s1%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20partition_list.append%28substr_par%29%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20partition_list%0A%60%60%60%0A%0A%23%23%23%20%u89E3%u6CD5%u4E8C%uFF1A%u52A8%u6001%u89C4%u5212%0A%u89E3%u6CD5%u4E00%u7684%u6548%u7387%u8F83%u5DEE%u3002%u52A8%u6001%u89C4%u5212%u7684%u65B9%u6CD5%u5728%u8FD9%u91CC%u53EF%u4EE5%u66F4%u52A0%u9AD8%u6548%u3002%0A%0A%u8BD5%u60F3%u6211%u4EEC%u53EF%u4EE5%u6784%u5EFA%u4E00%u4E2ANxN%u7684%u4E8C%u7EF4%u77E9%u9635%uFF0CN%u662F%u5B57%u7B26%u4E32s%u7684%u957F%u5EA6%uFF0C%u6211%u4EEC%u5148%u7528%u4E24%u4E2A%u5FAA%u73AF%u53D8%u91CFi%uFF0Cj%u904D%u5386%u5B57%u7B26%u4E32s%uFF0C%u5BF9%u4E8E%u4EFB%u4F55%u4E00%u4E2A%u662F%u56DE%u6587%u7684%u5B50%u5B57%u7B26%u4E32s%5Bi%20%3A%20j+1%5D%uFF0C%u90FD%u5C06%u77E9%u9635%u7684%5Bi%2C%20j%5D%u4F4D%u7F6E%u6807%u8BB0%u4E3A1%uFF0C%u6700%u540E%u6211%u4EEC%u53EA%u8981%u627E%u5230%u6240%u6709%u7684%u4ECE%u5934%u5230%u5C3E%u7684%u6807%u8BB0%u8DEF%u5F84%u5373%u53EF%u627E%u51FA%u6240%u6709%u7684%u56DE%u6587%u5212%u5206%u3002%0A%0A%u5BF9%u4E8E%u9898%u76EE%u4E2D%u7684%u4F8B%u5B50s%3D%22aab%u201D%u6765%u8BF4%uFF0C%u6784%u5EFA%u51FA%u7684%u77E9%u9635%u5F62%u5F0F%u5982%u4E0B%uFF1A%0A%0A%3E%201%201%200%0A%3E%200%201%200%0A%3E%200%200%201%0A%0A%u5728%u4E0B%u9762%u7684%u4EE3%u7801%u793A%u4F8B%u4E2D%uFF0C%u4E8C%u7EF4%u5217%u8868%u5B9E%u9645%u4E0A%u8868%u793A%u7684%u662F%u77E9%u9635%u7684%u7A00%u758F%u5F62%u5F0F%uFF0C%u5373%u5BF9%u4E8E%u5217%u8868%u7684%u7B2Ci%u4E2A%u5B50%u5217%u8868%uFF0C%u91CC%u9762%u5B58%u50A8%u7684%u662F%u77E9%u9635i%u4E0A%u7684%u6709%u6807%u8BB0%u7684%u5217%u7684%u7D22%u5F15%u3002%0A%0A%u6700%u7EC8%u7684%u8DEF%u5F84%u56DE%u6EAF%u5B9E%u9645%u4E0A%u8FD8%u662F%u4E00%u4E2A%u6DF1%u5EA6%u641C%u7D22%uFF0C%u4F46%u662F%u8FD9%u91CC%u7684%u5DE5%u4F5C%u91CF%u5C31%u5C0F%u7684%u591A%u4E86%u3002%u6700%u540E%u7684%u5B9E%u9645%u7ED3%u679C%u4E5F%u6BD4%u65B9%u6CD5%u4E00%u5FEB%u4E86%u5F88%u591A%u3002%u793A%u4F8B%u4EE3%u7801%u5982%u4E0B%uFF1A%0A%0A%60%60%60python%0A%23%20Second%20solution%20uses%20DP+dfs%0Aclass%20Solution2%3A%0A%20%20%20%20%23%20@param%20s%2C%20a%20string%0A%20%20%20%20%23%20@return%20a%20list%20of%20lists%20of%20string%0A%20%20%20%20def%20partition%28self%2C%20s%29%3A%0A%20%20%20%20%20%20%20%20index_list%20%3D%20%5B%5B%5D%20for%20i%20in%20range%28len%28s%29%29%5D%0A%20%20%20%20%20%20%20%20for%20i%20in%20range%28len%28s%29%29%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20j%20in%20range%28i%2C%20len%28s%29%29%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20s%5Bi%3Aj+1%5D%20%3D%3D%20s%5Bi%3Aj+1%5D%5B%3A%3A-1%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20index_list%5Bi%5D.append%28j%29%0A%0A%20%20%20%20%20%20%20%20partition_list%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20self.search_path%280%2C%20%5B%5D%2C%20index_list%2C%20s%2C%20partition_list%29%0A%20%20%20%20%20%20%20%20return%20partition_list%0A%0A%20%20%20%20def%20search_path%28self%2C%20start%2C%20current_partition%2C%20index_list%2C%20s%2C%20partition_list%29%3A%0A%20%20%20%20%20%20%20%20for%20end%20in%20index_list%5Bstart%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20new_partition%20%3D%20current_partition%5B%3A%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20new_partition.append%28s%5Bstart%3Aend+1%5D%29%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20end%20+%201%20%3D%3D%20len%28s%29%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20partition_list.append%28new_partition%29%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.search_path%28end+1%2C%20new_partition%2C%20index_list%2C%20s%2C%20partition_list%29%0A%0A%60%60%60%0A</center></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/01/28/leetcode-ef-bc-9a-e5-ad-97-e7-ac-a6-e4-b8-b2-e7-9a-84-e5-9b-9e-e6-96-87-e5-88-92-e5-88-86/" data-id="cid26qx56001cmrxnzfnx9sft" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/02/03/leetcode-ef-bc-9a-e5-af-bb-e6-89-be-e5-88-97-e8-a1-a8-e4-b8-ad-e7-9a-84-e5-94-af-e4-b8-80-e6-95-b0-e5-ad-97/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          LeetCode：寻找列表中的唯一数字
        
      </div>
    </a>
  
  
    <a href="/2015/01/27/python-e4-bb-a3-e7-a0-81-e8-ae-a1-e6-97-b6-e6-a8-a1-e5-9d-97timeite-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Python代码计时模块timeite学习笔记</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/未分类/">未分类</a><span class="category-list-count">11</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeetCode/">LeetCode</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/翻译/">翻译</a><span class="tag-list-count">6</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/LeetCode/" style="font-size: 10px;">LeetCode</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/翻译/" style="font-size: 15px;">翻译</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a><span class="archive-list-count">13</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/04/28/爱拉托撒尼筛法：找出小于 n 的所有质数/">爱拉托撒尼筛法：找出小于 n 的所有质数</a>
          </li>
        
          <li>
            <a href="/2015/03/13/leetcode-ef-bc-9a-e5-8a-a0-e6-b2-b9-e7-ab-99-e9-97-ae-e9-a2-98/">LeetCode：加油站问题</a>
          </li>
        
          <li>
            <a href="/2015/02/22/leetcode-ef-bc-9a-e5-94-af-e4-b8-80-e4-ba-8c-e5-8f-89-e6-90-9c-e7-b4-a2-e6-a0-91-e7-9a-84-e6-95-b0-e9-87-8f/">LeetCode：唯一二叉搜索树的数量</a>
          </li>
        
          <li>
            <a href="/2015/02/14/python-ef-bc-9a-init-py-e8-af-a6-e8-a7-a3/">Python：__init__.py 详解</a>
          </li>
        
          <li>
            <a href="/2015/02/09/e4-bb-80-e4-b9-88-e6-98-af-e9-b8-ad-e5-ad-90-e7-b1-bb-e5-9e-8b-ef-bc-88duck-typing-ef-bc-89/">什么是鸭子类型（duck typing）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 yongli1992<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>